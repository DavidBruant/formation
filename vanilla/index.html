<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">

    <meta description="">
    <link rel="stylesheet" type="text/css" href="../style.css">

    <script>
      "use strict";

      document.addEventListener('DOMContentLoaded', function(e){
        fetch('https://rawgit.com/DavidBruant/contenu-formations-web/master/js/data/tweets.json')
        .then(function(resp){return resp.json()})
        .then(function(tweets){
          console.log('Le tableau de tweet', tweets)

          // pour le premier tweet
          // - l'afficher
          // - afficher son texte dans la console
          // - créer une div qui contient le texte du tweet et ajouter la div au <body>

          /* Pense-bête DOM
            // créer un nouvel élément 'div'
            var x = document.createElement('div');

            // rajouter un enfant
            parentEl.append(enfantEl);

            // accéder au <body>
            document.body

            // ajouter un texte à un élément
            element.append('le texte yo !');
          */


          // afficher dans la console les text de tous les tweets du tableau en utilisant .forEach

          // créer un tableau avec seulement tous les textes des tweets

          // créer un tableau avec seulement les dates de publication (created_at)

          // créer un tableau avec seulement les tweets en français

          // créer un <ol>

          // [1] pour chaque tweet, créer un <li>, mettre le texte dedans, mettre le <li> dans le <ol>

          // mettre le <ol> dans le <body>

          // (pause)
          // créer une fonction, qui pour un objet tweet créé et retourne un <li> et l'utiliser à [1]
          // (séparation de la phase de création des éléments et de composition)

          // (pause)
          // [2] Créer et ajouter un <button> qui quand on clique dessus affiche 'click' dans la console.
          // -- qui quand on clique ne garde que les tweets en français
          // (et quand on reclique re-affiche tout)

          // (pause)
          // Faites un bouton (un peu gros) qui écoute mousedown/click/dblclick et mesure le temps de click et de doubleclick
          // et affiche tempsClic1, tempsClic2, tempsDoubleClic

          // créer une fonction, qui pour un tableau tweet créé et retourne un <ol> et l'utiliser à [1] et [2]
          // (séparation de la phase de création des éléments et de composition)

          // Créer plusieurs fichiers avec du code
          // * createTweetLi.js
          // * createTweetsOl.js
          // * createClickTimeButton.js
          // * main.js

          // charger tout ça via des <script defer src="..."> dans le <head>

          // Ecrire une fonction 'jsonGet' qui a comme paramètre une url et qui retourne une promesses pour des tweets en utilisant fetch

          // charger et afficher les tweets de
          // 'https://rawgit.com/DavidBruant/contenu-formations-web/master/js/data/tweets2.json'

          /* BONUS
            Exo (localStorage) :
              1) Rajouter un bouton "fav" à chaque li
              2) quand le bouton est cliqué, changer le style du li (rajouter une classe 'fav')
              + et stocker l'ensemble des id_str fav dans le localStorage
              3) au chargement de la page, lire le localStorage pour favoriser les favoris.
          */

        })
        .catch(function(e){ console.error(e) });

      }, {once: true})
    </script>

    <title>yo</title>
  </head>

  <body>
  </body>

</html>
